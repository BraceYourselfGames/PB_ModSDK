hidden: false
parents: 
core:
  stepOnStart: approach
  timeLocked: false
  time: 7
  scalingUsed: true
  loadImmediately: false
  externalBranchUsed: true
  externalLevelUsed: true
  reinforcementsUsed: true
  replayUsed: true
  unitLossUsed: true
  lootingUsed: true
  musicDynamic: false
  introUsed: true
  musicCustom: 
  introOverride: 
  briefingSpawnHighlights: 
  briefingGroupsInjected: 
  briefingUnitsInjected: 
  actionBlocklist: []
  customExitBehaviour: 
  weatherOverridePrecipitation:
    f: 0
  weatherOverrideTemperature: 
  introSettings: 
  textIntroPrimary: 
  textIntroLocation: 
  textIntroThreat: 
  textIntroReady: 
areas:
  tagFilterFromSite: true
  tagFilterUsed: false
  tagFilter: 
  keys:
  - main_military_camp_02
entry:
  squadUsed: true
  squadSize: 2
  squadSlotCustom:
    spawnTagsUsed: false
    spawnTags:
      context_undefended: true
      perimeter_outer: false
    spawnGroupKey: tutorial_pb
    filterDistancePlayer: 
    filterDistanceEnemy: 
    filterDistanceSpawn: 
    filterDistanceLocation: 
    filterDistanceVolume: 
    filterDistanceState: 
    filterDistanceRetreat:
      key: default
      check: Greater
      value: 50
    sorting: !UnitSlotSortingRetreat
      key: default
      invert: true
    spawnRegistration: 
generationInjection: 
tags:
- difficulty_normal
- tutorial_pilot_progression
- listed
- block_exit_on_defeat
- type_military_demolition_tutorial
- trait_damage_env
states:
  approach_comms_delayed:
    comment: 
    textNameKey: ''
    textDescKey: ''
    textOnCompletion: 
    evaluated: true
    visible: false
    startInScope: true
    priorityGeneration: 1
    priority: 1
    priorityDisplay: 1
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd
    evaluationOnOutcome: 
    turn:
      relative: true
      check: GreaterEqual
      value: 0
    turnModulus: 
    unitChecks: 
    unitCheckLinked: 
    location: 
    locationRetreat: 
    volume: 
    stateValues: 
    memoryBase: 
    functions: 
    reactions:
      expectedValue: true
      scopeRemovalOnLimit: true
      triggerLimit: 1
      triggerIncrement: true
      effectsPerIncrement:
        1:
          tags: 
          executionOnOutcome: 
          stepTransition: 
          commsOnStart: 
          memoryChanges: 
          stateScopeChanges: 
          stateValueChanges: 
          memoryDisplayChanges: 
          unitTagDisplayChanges: 
          rewards: 
          functions:
          - !CombatCreateCommsMessage
            time: 0
            key: unique_tutorial_demolition_intro_02
          functionsPerUnit: 
          unitGroups: 
          unitGeneratorKeys: 
          outcome: 
  approach_target_destruction:
    comment: 
    textNameKey: ''
    textDescKey: ''
    textOnCompletion: 
    evaluated: true
    visible: true
    startInScope: true
    priorityGeneration: 0
    priority: 0
    priorityDisplay: 0
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd
    evaluationOnOutcome: 
    turn: 
    turnModulus: 
    unitChecks:
    - count:
        check: Equal
        value: 0
      exportCountToMemory: 
      exportEntitiesToBlackboard: 
      tags:
        purpose_objective_01: true
      name: 
      faction:
        key: Invaders
      state: 
      actionPlanned: 
      locationOccupied: 
      locationOccupiedUnlinked: 
      relativeTransform: 
      blueprints: 
      classes: 
      stats: 
      statsNormalized: 
      actionsInProgress: 
      functions: 
    unitCheckLinked: 
    location: 
    locationRetreat: 
    volume: 
    stateValues: 
    memoryBase: 
    functions: 
    reactions:
      expectedValue: true
      scopeRemovalOnLimit: true
      triggerLimit: 1
      triggerIncrement: true
      effectsPerIncrement:
        1:
          tags: 
          executionOnOutcome: 
          stepTransition:
            stepKey: main
          commsOnStart: 
          memoryChanges: 
          stateScopeChanges: 
          stateValueChanges: 
          memoryDisplayChanges: 
          unitTagDisplayChanges: 
          rewards: 
          functions: 
          functionsPerUnit: 
          unitGroups: 
          unitGeneratorKeys: 
          outcome: 
  main_comms_delayed:
    comment: 
    textNameKey: ''
    textDescKey: ''
    textOnCompletion: 
    evaluated: true
    visible: false
    startInScope: false
    priorityGeneration: 1
    priority: 1
    priorityDisplay: 1
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd
    evaluationOnOutcome: 
    turn:
      relative: true
      check: GreaterEqual
      value: 0
    turnModulus: 
    unitChecks: 
    unitCheckLinked: 
    location: 
    locationRetreat: 
    volume: 
    stateValues: 
    memoryBase: 
    functions: 
    reactions:
      expectedValue: true
      scopeRemovalOnLimit: true
      triggerLimit: 1
      triggerIncrement: true
      effectsPerIncrement:
        1:
          tags: 
          executionOnOutcome: 
          stepTransition: 
          commsOnStart: 
          memoryChanges: 
          stateScopeChanges: 
          stateValueChanges: 
          memoryDisplayChanges: 
          unitTagDisplayChanges: 
          rewards: 
          functions:
          - !CombatCreateCommsMessage
            time: 0
            key: unique_tutorial_demolition_main_02
          functionsPerUnit: 
          unitGroups: 
          unitGeneratorKeys: 
          outcome: 
  main_demolition:
    comment: 
    textNameKey: ''
    textDescKey: ''
    textOnCompletion: 
    evaluated: true
    visible: true
    startInScope: false
    priorityGeneration: 0
    priority: 0
    priorityDisplay: 0
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd, OnLevelDestruction
    evaluationOnOutcome: 
    turn: 
    turnModulus: 
    unitChecks: 
    unitCheckLinked: 
    location: 
    locationRetreat: 
    volume: 
    stateValues: 
    memoryBase:
      method: RequireAll
      checks:
      - key: combat_sc_level_destruction
        presenceDesired: true
        valueFromMemory: false
        valueFromMemoryKey: 
        valueCheck: GreaterEqual
        value: 50
    functions: 
    reactions:
      expectedValue: true
      scopeRemovalOnLimit: false
      triggerLimit: 1
      triggerIncrement: true
      effectsPerIncrement:
        1:
          tags: 
          executionOnOutcome: 
          stepTransition:
            stepKey: retreat
          commsOnStart:
          - time: 0
            hidden: true
            key: generic_military_demolition_t3
          memoryChanges: 
          stateScopeChanges: 
          stateValueChanges: 
          memoryDisplayChanges: 
          unitTagDisplayChanges: 
          rewards: 
          functions: 
          functionsPerUnit: 
          unitGroups: 
          unitGeneratorKeys: 
          outcome: 
  retreat_comms_delayed:
    comment: 
    textNameKey: ''
    textDescKey: ''
    textOnCompletion: 
    evaluated: true
    visible: false
    startInScope: false
    priorityGeneration: 1
    priority: 1
    priorityDisplay: 1
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd
    evaluationOnOutcome: 
    turn:
      relative: true
      check: GreaterEqual
      value: 1
    turnModulus: 
    unitChecks: 
    unitCheckLinked: 
    location: 
    locationRetreat: 
    volume: 
    stateValues: 
    memoryBase: 
    functions: 
    reactions:
      expectedValue: true
      scopeRemovalOnLimit: true
      triggerLimit: 1
      triggerIncrement: true
      effectsPerIncrement:
        1:
          tags: 
          executionOnOutcome: 
          stepTransition: 
          commsOnStart: 
          memoryChanges: 
          stateScopeChanges: 
          stateValueChanges: 
          memoryDisplayChanges: 
          unitTagDisplayChanges: 
          rewards: 
          functions:
          - !CombatCreateCommsMessage
            time: 0
            key: unique_tutorial_demolition_retreat_02
          functionsPerUnit: 
          unitGroups: 
          unitGeneratorKeys: 
          outcome: 
  retreat_default:
    comment: 
    textNameKey: retreat_general_header
    textDescKey: retreat_general_text
    textOnCompletion: 
    evaluated: true
    visible: true
    startInScope: false
    priorityGeneration: 100
    priority: 100
    priorityDisplay: 100
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd
    evaluationOnOutcome: 
    turn: 
    turnModulus: 
    unitChecks: 
    unitCheckLinked: 
    location:
      visibleInWorld: true
      locationProvider: !AreaLocationKey
        key: obj_retreat_tutorial
      visual: 
    locationRetreat:
      commsUsed: false
    volume: 
    stateValues:
      main_demolition: true
    memoryBase: 
    functions: 
    reactions: 
  retreat_reinforcements:
    comment:
      comment: Spawn new squads every 2 turns, provided there aren't too many non-turret units already on the field and provided there are still objectives to be completed.
    textNameKey: ''
    textDescKey: ''
    textOnCompletion: 
    evaluated: true
    visible: false
    startInScope: false
    priorityGeneration: 20
    priority: 20
    priorityDisplay: 0
    mood: 0
    ui: 
    evaluationContext: OnExecutionEnd
    evaluationOnOutcome: 
    turn:
      relative: true
      check: GreaterEqual
      value: 0
    turnModulus: 
    unitChecks:
    - count:
        check: Less
        value: 7
      exportCountToMemory: 
      exportEntitiesToBlackboard: 
      tags: 
      name: 
      faction:
        key: Invaders
      state: 
      actionPlanned: 
      locationOccupied: 
      locationOccupiedUnlinked: 
      relativeTransform: 
      blueprints: 
      classes:
        turret: false
      stats: 
      statsNormalized: 
      actionsInProgress: 
      functions: 
    unitCheckLinked: 
    location: 
    locationRetreat: 
    volume: 
    stateValues: 
    memoryBase: 
    functions: 
    reactions:
      expectedValue: true
      scopeRemovalOnLimit: false
      triggerLimit: 1
      triggerIncrement: false
      effectsPerIncrement:
        0:
          tags: 
          executionOnOutcome: 
          stepTransition: 
          commsOnStart: 
          memoryChanges: 
          stateScopeChanges:
            retreat_comms_delayed: true
          stateValueChanges: 
          memoryDisplayChanges: 
          unitTagDisplayChanges: 
          rewards: 
          functions: 
          functionsPerUnit: 
          unitGroups:
          - !UnitGroupFilter
            tagsFromFactionBranch: true
            tags:
              range_medium: true
            check: 
            combatTags: 
            spawnGroupOccupied: false
            spawnCountStrict: true
            spawnOrderRandom: true
            factionBranchOverride: false
            factionBranchKey: 
            baseGrade: 0
            maxGrade: 0
            cloneable: false
            functions: 
            spawnTagsUsed: true
            spawnTags:
              perimeter_outer: true
            spawnGroupKey: 
            filterDistancePlayer: 
            filterDistanceEnemy: 
            filterDistanceSpawn: 
            filterDistanceLocation: 
            filterDistanceVolume: 
            filterDistanceState:
              key: retreat_default
              check: Greater
              value: 200
            filterDistanceRetreat: 
            sorting: 
            spawnRegistration: 
          unitGeneratorKeys: 
          outcome: 
steps:
  approach:
    comment: 
    core:
      color:
        r: 1
        g: 1
        b: 1
        a: 1
      textCurrentPrimaryKey: generic_objective_header
      textCurrentSecondaryKey: ''
      textFromScenarioGroup: false
      threatRatingPercentage: 0
      allowOutcomeVictory: false
      allowOutcomeDefeat: true
      unitsRevealed: false
      executionAllowed: true
      visible: true
    tags:
    - start
    unitGroups:
    - !UnitGroupEmbedded
      units:
      - keyExternal: true
        key: trainingreserves_heavy_01
        countMin: 1
        countMax: 1
        countRandom: false
        levelOffsetMin: 0
        levelOffsetMax: 0
        levelOffsetRandom: false
        qualityTableKey: 
        aiBehavior: ''
        aiTargeting: ''
        liveryPreset: misc_hvt_05
        custom:
          name:
            name: tutorial_target
          id: 
          idReused: 
          idPilot: 
          role: 
          spawn: 
          landing: 
          flags:
            controlByPlayer: false
            controlledByAI: false
            uncrewed: true
          faction: 
          speed: 
          uncrewed:
            portraitKey: 
          pilotAppearance: 
          pilotStats: 
          predictionLimit: 
          animationOverrides: 
          statMultipliers: 
          hitDirectionModifiers: 
          functions: 
          combatTags:
          - purpose_objective_01
      check: 
      combatTags: 
      spawnGroupOccupied: true
      spawnCountStrict: true
      spawnOrderRandom: true
      factionBranchOverride: true
      factionBranchKey: branch_army
      baseGrade: 0
      maxGrade: 0
      cloneable: true
      functions: 
      spawnTagsUsed: false
      spawnTags:
        perimeter_outer: true
      spawnGroupKey: tutorial_hangar
      filterDistancePlayer: 
      filterDistanceEnemy: 
      filterDistanceSpawn: 
      filterDistanceLocation: 
      filterDistanceVolume: 
      filterDistanceState: 
      filterDistanceRetreat: 
      sorting: 
      spawnRegistration: 
    unitGeneratorKeys: 
    stateScopeChanges: 
    stateValueChanges:
      retreat_default: true
    memoryDisplayChanges: 
    unitTagDisplayChanges:
      purpose_objective_01: true
    unitChanges: 
    retreat: 
    actionRestrictions: 
    cutsceneVideoOnStart: 
    atmosphereOnStart: 
    hintsConditional: 
    unitSelection: 
    camera: 
    musicMood: 
    musicIntensity: 
    musicReactive: 
    commsOnStart: 
    audioEventsOnStart: 
    audioStatesOnStart: 
    audioSyncsOnStart: 
    functions:
    - !CombatCreateCommsMessage
      time: 0
      key: unique_tutorial_demolition_intro_01
    - !StartTutorial
      key: combat_demo_directional
      allowRepeat: true
    outcome: 
    transitions: 
  main:
    comment: 
    core:
      color:
        r: 1
        g: 1
        b: 1
        a: 1
      textCurrentPrimaryKey: generic_objective_header
      textCurrentSecondaryKey: ''
      textFromScenarioGroup: false
      threatRatingPercentage: 1
      allowOutcomeVictory: false
      allowOutcomeDefeat: true
      unitsRevealed: false
      executionAllowed: true
      visible: true
    tags: 
    unitGroups: 
    unitGeneratorKeys: 
    stateScopeChanges:
      main_comms_delayed: true
      main_demolition: true
    stateValueChanges: 
    memoryDisplayChanges: 
    unitTagDisplayChanges:
      purpose_objective_01: false
    unitChanges: 
    retreat: 
    actionRestrictions: 
    cutsceneVideoOnStart: 
    atmosphereOnStart: 
    hintsConditional: 
    unitSelection: 
    camera: 
    musicMood: 
    musicIntensity: 
    musicReactive: 
    commsOnStart: 
    audioEventsOnStart: 
    audioStatesOnStart: 
    audioSyncsOnStart: 
    functions:
    - !CombatCreateCommsMessage
      time: 0
      key: unique_tutorial_demolition_main_01
    - !StartTutorial
      key: combat_demo_structures
      allowRepeat: true
    outcome: 
    transitions: 
  retreat:
    comment: 
    core:
      color:
        r: 1
        g: 1
        b: 1
        a: 1
      textCurrentPrimaryKey: generic_objective_header
      textCurrentSecondaryKey: ''
      textFromScenarioGroup: false
      threatRatingPercentage: 1
      allowOutcomeVictory: false
      allowOutcomeDefeat: true
      unitsRevealed: true
      executionAllowed: true
      visible: true
    tags: 
    unitGroups: 
    unitGeneratorKeys: 
    stateScopeChanges:
      retreat_default: true
      retreat_reinforcements: true
    stateValueChanges: 
    memoryDisplayChanges: 
    unitTagDisplayChanges: 
    unitChanges: 
    retreat:
      stateKey: retreat_default
      stateValueModified: false
      stateValue: false
    actionRestrictions: 
    cutsceneVideoOnStart: 
    atmosphereOnStart: 
    hintsConditional: 
    unitSelection: 
    camera: 
    musicMood: 
    musicIntensity: 
    musicReactive: 
    commsOnStart: 
    audioEventsOnStart: 
    audioStatesOnStart: 
    audioSyncsOnStart: 
    functions:
    - !CombatCreateCommsMessage
      time: 0
      key: unique_tutorial_demolition_retreat_01
    - !StartTutorial
      key: combat_demo_retreat
      allowRepeat: true
    outcome: 
    transitions: 
unitPresets:
  pb_rail: !UnitPresetLink
    preset: ftue_patrol_pb_rail
unitGenerators: 
